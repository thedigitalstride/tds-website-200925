@import "tailwindcss";
@import "../../styles/theme.css";

@plugin "tailwindcss-animate";
@plugin "tailwindcss-react-aria-components";
@plugin "@tailwindcss/typography";

@import "../../styles/richtext.css";

@custom-variant dark (&:where(.dark-mode, .dark-mode *));
@custom-variant label (& [data-label]);
@custom-variant focus-input-within (&:has(input:focus));

/* Ensure our theme color utilities work */

/* Border utilities */
@utility border-tertiary {
    border-color: var(--color-border-tertiary);
}

@utility border-secondary {
    border-color: var(--color-border-secondary);
}

@utility border-primary {
    border-color: var(--color-border-primary);
}

@utility border-accent {
    border-color: var(--color-border-accent);
}

/* Ring utilities for outline variant */
@utility ring-outline {
    --tw-ring-color: #D6D6D6;
}

/* Background utilities with forced child text colors */

/* bg-primary-reversed MUST come first so bg-primary can override it */
.bg-primary-reversed {
    background-color: var(--color-white);
}

.bg-primary-reversed,
.bg-primary-reversed *,
.bg-primary-reversed h1, .bg-primary-reversed h2, .bg-primary-reversed h3, .bg-primary-reversed h4, .bg-primary-reversed h5, .bg-primary-reversed h6,
.bg-primary-reversed p, .bg-primary-reversed span, .bg-primary-reversed div, .bg-primary-reversed a, .bg-primary-reversed li,
.bg-primary-reversed .prose, .bg-primary-reversed .prose *,
.bg-primary-reversed .prose h1, .bg-primary-reversed .prose h2, .bg-primary-reversed .prose h3, .bg-primary-reversed .prose h4, .bg-primary-reversed .prose h5, .bg-primary-reversed .prose h6,
.bg-primary-reversed .prose p, .bg-primary-reversed .prose a, .bg-primary-reversed .prose li, .bg-primary-reversed .prose strong {
    color: var(--color-gray-900) !important;
}

/* Dark mode */
.dark-mode .bg-primary-reversed {
    background-color: var(--color-brand-500);
}

.dark-mode .bg-primary-reversed,
.dark-mode .bg-primary-reversed *,
.dark-mode .bg-primary-reversed h1, .dark-mode .bg-primary-reversed h2, .dark-mode .bg-primary-reversed h3, .dark-mode .bg-primary-reversed h4, .dark-mode .bg-primary-reversed h5, .dark-mode .bg-primary-reversed h6,
.dark-mode .bg-primary-reversed p, .dark-mode .bg-primary-reversed span, .dark-mode .bg-primary-reversed div, .dark-mode .bg-primary-reversed a, .dark-mode .bg-primary-reversed li,
.dark-mode .bg-primary-reversed .prose, .dark-mode .bg-primary-reversed .prose *,
.dark-mode .bg-primary-reversed .prose h1, .dark-mode .bg-primary-reversed .prose h2, .dark-mode .bg-primary-reversed .prose h3, .dark-mode .bg-primary-reversed .prose h4, .dark-mode .bg-primary-reversed .prose h5, .dark-mode .bg-primary-reversed .prose h6,
.dark-mode .bg-primary-reversed .prose p, .dark-mode .bg-primary-reversed .prose a, .dark-mode .bg-primary-reversed .prose li, .dark-mode .bg-primary-reversed .prose strong {
    color: var(--color-white) !important;
}

/* bg-primary comes AFTER so it can override bg-primary-reversed */
.bg-primary {
    background-color: var(--color-brand-500);
}

/* Use descendant combinator to be more specific than .bg-primary-reversed * */
.bg-primary-reversed .bg-primary,
.bg-primary-reversed .bg-primary *,
.bg-primary-reversed .bg-primary h1,
.bg-primary-reversed .bg-primary h2,
.bg-primary-reversed .bg-primary h3,
.bg-primary-reversed .bg-primary h4,
.bg-primary-reversed .bg-primary h5,
.bg-primary-reversed .bg-primary h6,
.bg-primary-reversed .bg-primary p,
.bg-primary-reversed .bg-primary span,
.bg-primary-reversed .bg-primary div,
.bg-primary-reversed .bg-primary a,
.bg-primary-reversed .bg-primary li,
.bg-primary-reversed .bg-primary .text-display-sm,
.bg-primary-reversed .bg-primary .text-display-md,
.bg-primary-reversed .bg-primary .text-display-lg,
.bg-primary-reversed .bg-primary .text-display-xl,
.bg-primary-reversed .bg-primary .text-display-2xl,
.bg-primary-reversed .bg-primary .prose,
.bg-primary-reversed .bg-primary .prose *,
.bg-primary-reversed .bg-primary .prose h1,
.bg-primary-reversed .bg-primary .prose h2,
.bg-primary-reversed .bg-primary .prose h3,
.bg-primary-reversed .bg-primary .prose h4,
.bg-primary-reversed .bg-primary .prose h5,
.bg-primary-reversed .bg-primary .prose h6,
.bg-primary-reversed .bg-primary .prose p,
.bg-primary-reversed .bg-primary .prose a,
.bg-primary-reversed .bg-primary .prose li,
.bg-primary-reversed .bg-primary .prose strong,
.bg-primary,
.bg-primary *,
.bg-primary h1,
.bg-primary h2,
.bg-primary h3,
.bg-primary h4,
.bg-primary h5,
.bg-primary h6,
.bg-primary p,
.bg-primary span,
.bg-primary div,
.bg-primary a,
.bg-primary li,
.bg-primary .text-display-sm,
.bg-primary .text-display-md,
.bg-primary .text-display-lg,
.bg-primary .text-display-xl,
.bg-primary .text-display-2xl,
.bg-primary .prose,
.bg-primary .prose *,
.bg-primary .prose h1,
.bg-primary .prose h2,
.bg-primary .prose h3,
.bg-primary .prose h4,
.bg-primary .prose h5,
.bg-primary .prose h6,
.bg-primary .prose p,
.bg-primary .prose a,
.bg-primary .prose li,
.bg-primary .prose strong {
    color: var(--color-white) !important;
}

/* Dark mode */
.dark-mode .bg-primary {
    background-color: var(--color-white);
}

.dark-mode .bg-primary-reversed .bg-primary,
.dark-mode .bg-primary-reversed .bg-primary *,
.dark-mode .bg-primary-reversed .bg-primary h1,
.dark-mode .bg-primary-reversed .bg-primary h2,
.dark-mode .bg-primary-reversed .bg-primary h3,
.dark-mode .bg-primary-reversed .bg-primary h4,
.dark-mode .bg-primary-reversed .bg-primary h5,
.dark-mode .bg-primary-reversed .bg-primary h6,
.dark-mode .bg-primary-reversed .bg-primary p,
.dark-mode .bg-primary-reversed .bg-primary span,
.dark-mode .bg-primary-reversed .bg-primary div,
.dark-mode .bg-primary-reversed .bg-primary a,
.dark-mode .bg-primary-reversed .bg-primary li,
.dark-mode .bg-primary-reversed .bg-primary .text-display-sm,
.dark-mode .bg-primary-reversed .bg-primary .text-display-md,
.dark-mode .bg-primary-reversed .bg-primary .text-display-lg,
.dark-mode .bg-primary-reversed .bg-primary .text-display-xl,
.dark-mode .bg-primary-reversed .bg-primary .text-display-2xl,
.dark-mode .bg-primary-reversed .bg-primary .prose,
.dark-mode .bg-primary-reversed .bg-primary .prose *,
.dark-mode .bg-primary-reversed .bg-primary .prose h1,
.dark-mode .bg-primary-reversed .bg-primary .prose h2,
.dark-mode .bg-primary-reversed .bg-primary .prose h3,
.dark-mode .bg-primary-reversed .bg-primary .prose h4,
.dark-mode .bg-primary-reversed .bg-primary .prose h5,
.dark-mode .bg-primary-reversed .bg-primary .prose h6,
.dark-mode .bg-primary-reversed .bg-primary .prose p,
.dark-mode .bg-primary-reversed .bg-primary .prose a,
.dark-mode .bg-primary-reversed .bg-primary .prose li,
.dark-mode .bg-primary-reversed .bg-primary .prose strong,
.dark-mode .bg-primary,
.dark-mode .bg-primary *,
.dark-mode .bg-primary h1,
.dark-mode .bg-primary h2,
.dark-mode .bg-primary h3,
.dark-mode .bg-primary h4,
.dark-mode .bg-primary h5,
.dark-mode .bg-primary h6,
.dark-mode .bg-primary p,
.dark-mode .bg-primary span,
.dark-mode .bg-primary div,
.dark-mode .bg-primary a,
.dark-mode .bg-primary li,
.dark-mode .bg-primary .text-display-sm,
.dark-mode .bg-primary .text-display-md,
.dark-mode .bg-primary .text-display-lg,
.dark-mode .bg-primary .text-display-xl,
.dark-mode .bg-primary .text-display-2xl,
.dark-mode .bg-primary .prose,
.dark-mode .bg-primary .prose *,
.dark-mode .bg-primary .prose h1,
.dark-mode .bg-primary .prose h2,
.dark-mode .bg-primary .prose h3,
.dark-mode .bg-primary .prose h4,
.dark-mode .bg-primary .prose h5,
.dark-mode .bg-primary .prose h6,
.dark-mode .bg-primary .prose p,
.dark-mode .bg-primary .prose a,
.dark-mode .bg-primary .prose li,
.dark-mode .bg-primary .prose strong {
    color: var(--color-gray-900) !important;
}

/* bg-accent - blue background with white text (same in both modes) */
.bg-accent {
    background-color: var(--color-accent-solid);
}

.bg-accent,
.bg-accent *,
.bg-accent h1,
.bg-accent h2,
.bg-accent h3,
.bg-accent h4,
.bg-accent h5,
.bg-accent h6,
.bg-accent p,
.bg-accent span,
.bg-accent div,
.bg-accent a,
.bg-accent li,
.bg-accent .text-display-sm,
.bg-accent .text-display-md,
.bg-accent .text-display-lg,
.bg-accent .text-display-xl,
.bg-accent .text-display-2xl,
.bg-accent .prose,
.bg-accent .prose *,
.bg-accent .prose h1,
.bg-accent .prose h2,
.bg-accent .prose h3,
.bg-accent .prose h4,
.bg-accent .prose h5,
.bg-accent .prose h6,
.bg-accent .prose p,
.bg-accent .prose a,
.bg-accent .prose li,
.bg-accent .prose strong {
    color: var(--color-white) !important;
}

/* bg-secondary - light gray background with dark text (light mode), dark blue background with white text (dark mode) */
.bg-secondary {
    background-color: #F3F3F3;
}

.bg-secondary,
.bg-secondary *,
.bg-secondary h1,
.bg-secondary h2,
.bg-secondary h3,
.bg-secondary h4,
.bg-secondary h5,
.bg-secondary h6,
.bg-secondary p,
.bg-secondary span,
.bg-secondary div,
.bg-secondary a,
.bg-secondary li,
.bg-secondary .text-display-sm,
.bg-secondary .text-display-md,
.bg-secondary .text-display-lg,
.bg-secondary .text-display-xl,
.bg-secondary .text-display-2xl,
.bg-secondary .prose,
.bg-secondary .prose *,
.bg-secondary .prose h1,
.bg-secondary .prose h2,
.bg-secondary .prose h3,
.bg-secondary .prose h4,
.bg-secondary .prose h5,
.bg-secondary .prose h6,
.bg-secondary .prose p,
.bg-secondary .prose a,
.bg-secondary .prose li,
.bg-secondary .prose strong {
    color: var(--color-gray-900) !important;
}

/* Dark mode */
.dark-mode .bg-secondary {
    background-color: #112852;
}

.dark-mode .bg-secondary,
.dark-mode .bg-secondary *,
.dark-mode .bg-secondary h1,
.dark-mode .bg-secondary h2,
.dark-mode .bg-secondary h3,
.dark-mode .bg-secondary h4,
.dark-mode .bg-secondary h5,
.dark-mode .bg-secondary h6,
.dark-mode .bg-secondary p,
.dark-mode .bg-secondary span,
.dark-mode .bg-secondary div,
.dark-mode .bg-secondary a,
.dark-mode .bg-secondary li,
.dark-mode .bg-secondary .text-display-sm,
.dark-mode .bg-secondary .text-display-md,
.dark-mode .bg-secondary .text-display-lg,
.dark-mode .bg-secondary .text-display-xl,
.dark-mode .bg-secondary .text-display-2xl,
.dark-mode .bg-secondary .prose,
.dark-mode .bg-secondary .prose *,
.dark-mode .bg-secondary .prose h1,
.dark-mode .bg-secondary .prose h2,
.dark-mode .bg-secondary .prose h3,
.dark-mode .bg-secondary .prose h4,
.dark-mode .bg-secondary .prose h5,
.dark-mode .bg-secondary .prose h6,
.dark-mode .bg-secondary .prose p,
.dark-mode .bg-secondary .prose a,
.dark-mode .bg-secondary .prose li,
.dark-mode .bg-secondary .prose strong {
    color: var(--color-white) !important;
}

@utility bg-tertiary {
    background-color: var(--color-bg-tertiary);
}

/* Text utilities */
@utility text-primary {
    color: var(--color-text-primary);
}

@utility text-secondary {
    color: var(--color-text-secondary);
}

@utility text-tertiary {
    color: var(--color-text-tertiary);
}

@utility text-quaternary {
    color: var(--color-text-quaternary);
}

/* Ring utilities for secondary button */
@utility ring-tertiary {
    --tw-ring-color: var(--color-border-tertiary);
}

@utility ring-disabled_subtle {
    --tw-ring-color: var(--color-border-disabled_subtle);
}

/* Foreground utilities (for icons) */
@utility text-fg-quaternary {
    color: var(--color-fg-quaternary);
}

@utility text-fg-quaternary_hover {
    color: var(--color-fg-quaternary_hover);
}

/* Background hover states */
@utility bg-primary_hover {
    background-color: var(--color-bg-primary_hover);
}

@utility bg-secondary_hover {
    background-color: var(--color-bg-secondary_hover);
}

/* Text hover states */
@utility text-tertiary_hover {
    color: var(--color-text-tertiary_hover);
}

@utility text-secondary_hover {
    color: var(--color-text-secondary_hover);
}

/* Additional commonly used utilities */
@utility bg-disabled {
    background-color: var(--color-bg-disabled);
}

@utility text-disabled {
    color: var(--color-text-disabled);
}

@utility text-fg-disabled {
    color: var(--color-fg-disabled);
}

/* Brand text colors (for when you need blue text) */
@utility text-brand-primary {
    color: var(--color-text-brand-primary);
}

@utility text-brand-secondary {
    color: var(--color-text-brand-secondary);
}

@utility text-brand-tertiary {
    color: var(--color-text-brand-tertiary);
}

/* Direct brand color utilities (for specific blue shades) */
@utility text-brand-500 {
    color: var(--color-brand-500);
}

@utility text-brand-600 {
    color: var(--color-brand-600);
}

@utility text-brand-700 {
    color: var(--color-brand-700);
}

@utility scrollbar-hide {
    /* For Webkit-based browsers (Chrome, Safari and Opera) */
    &::-webkit-scrollbar {
        display: none;
        -webkit-appearance: none;
    }

    /* For IE, Edge and Firefox */
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
}

@utility transition-inherit-all {
    transition-property: inherit;
    transition-duration: inherit;
    transition-timing-function: inherit;
}

html,
body {
    font-family: var(--font-body);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-font-variant-ligatures: contextual;
    font-variant-ligatures: contextual;
    -webkit-font-kerning: normal;
    font-kerning: normal;
}

/* Apply Poppins font to all heading elements and display text utilities */
h1, h2, h3, h4, h5, h6,
.text-display-xs,
.text-display-sm,
.text-display-md,
.text-display-lg,
.text-display-xl,
.text-display-2xl {
    font-family: var(--font-display);
}

/* Fluid hero heading utility - scales smoothly from 33.6px to 104px */
@utility text-hero-fluid {
    font-family: var(--font-display);
    font-size: var(--text-hero-fluid);
    line-height: var(--text-hero-fluid--line-height);
    font-weight: 700;
}

/* Hero gradient background utilities - light and dark mode variants */
@utility bg-gradient-hero-brand-radial {
    background: radial-gradient(ellipse at center, rgb(39 77 131) 0%, rgb(2 21 54) 50%, rgb(1 10 25) 100%);

    &:where(.dark-mode, .dark-mode *) {
        background: radial-gradient(ellipse at center, rgb(195 211 235) 0%, rgb(75 127 195) 50%, rgb(2 18 45) 100%);
    }
}

@utility bg-gradient-hero-accent {
    background: linear-gradient(-60deg, rgb(22 137 255) 0%, rgb(22 137 255) 20%, rgb(3 26 67) 90%, rgb(3 26 67) 100%);

    &:where(.dark-mode, .dark-mode *) {
        background: linear-gradient(-60deg, rgb(22 137 255) 0%, rgb(22 137 255) 20%, rgb(3 26 67) 90%, rgb(3 26 67) 100%);
    }
}

@utility bg-gradient-hero-dark-light {
    background: linear-gradient(180deg, rgb(1 10 25) 0%, rgb(3 26 67) 100%);

    &:where(.dark-mode, .dark-mode *) {
        background: linear-gradient(180deg, rgb(1 10 25) 0%, rgb(3 26 67) 100%);
    }
}

/* Hide the default expand arrow on Safari.  */
details summary::-webkit-details-marker {
    display: none;
}

/* Hide default arrows from number inputs. */
/* Chrome, Safari, Edge, Opera */
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
    -webkit-appearance: none;
    margin: 0;
}
/* Firefox */
input[type="number"] {
    -moz-appearance: textfield;
}

/* Hide the default clear button (X) from search inputs. */
input[type="search"]::-webkit-search-cancel-button {
    -webkit-appearance: none;
}

/* UUI Post Layout Prose Styles */
.prose-centered-quote blockquote {
    text-align: center;
}

/* Inline image styling within rich text content */
/* Applied via CSS container for flexibility */
.payload-richtext figure.richtext-inline-image img,
.prose figure.richtext-inline-image img {
    border-radius: 0.5rem; /* rounded-lg equivalent */
}

/* Optional: Remove rounded corners in specific contexts */
.prose-no-rounded figure.richtext-inline-image img {
    border-radius: 0;
}

/* Mobile menu popover - styled to expand within header container */
.mobile-menu-popover {
    box-shadow: none !important;
    background: transparent !important;
}

.mobile-menu-popover[data-entering] {
    animation: none !important;
}

.mobile-menu-popover[data-exiting] {
    animation: none !important;
}

/* Animated Background Classes for BackgroundSection Block */
/* Animated gradient background */
.animated-gradient {
    background: linear-gradient(-45deg, #1689FF, #031A43, #23a6d5, #031A43);
    background-size: 400% 400%;
    animation: gradient-shift 15s ease infinite;
}

@keyframes gradient-shift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Subtle wave animation background */
.wave-animation {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    position: relative;
    overflow: hidden;
}

.wave-animation::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 200%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
    animation: wave 8s linear infinite;
}

@keyframes wave {
    0% {
        left: -100%;
    }
    100% {
        left: 100%;
    }
}

/* Particle background placeholder - requires JavaScript implementation */
.particle-bg {
    background: linear-gradient(180deg, #031A43 0%, #1689FF 100%);
    position: relative;
}

/* Subtle moving gradient */
.subtle-gradient {
    background: linear-gradient(270deg, #031A43, #052952, #031A43);
    background-size: 600% 600%;
    animation: subtle-shift 20s ease infinite;
}

@keyframes subtle-shift {
    0% {
        background-position: 0% 50%;
    }
    50% {
        background-position: 100% 50%;
    }
    100% {
        background-position: 0% 50%;
    }
}

/* Aurora borealis effect */
.aurora-bg {
    background: linear-gradient(to bottom, #031A43 0%, #1689FF 50%, #031A43 100%);
    position: relative;
    overflow: hidden;
}

.aurora-bg::before {
    content: '';
    position: absolute;
    width: 200%;
    height: 200%;
    top: -50%;
    left: -50%;
    background: conic-gradient(from 0deg, transparent, #1689FF, transparent, #23a6d5, transparent);
    animation: rotate 30s linear infinite;
    opacity: 0.3;
}

@keyframes rotate {
    100% {
        transform: rotate(360deg);
    }
}

/* Gradient utilities for BackgroundSection */
@utility bg-gradient-radial {
    background: radial-gradient(ellipse at center, var(--tw-gradient-from) 0%, var(--tw-gradient-via) 50%, var(--tw-gradient-to) 100%);
}

@utility bg-gradient-to-br {
    background: linear-gradient(to bottom right, var(--tw-gradient-from) 0%, var(--tw-gradient-via) 50%, var(--tw-gradient-to) 100%);
}

@utility bg-gradient-to-b {
    background: linear-gradient(to bottom, var(--tw-gradient-from) 0%, var(--tw-gradient-to) 100%);
}